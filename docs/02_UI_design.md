# 02. UI 설계

본 문서는 **confound-insight** 프로젝트에서 사용자에게 제공되는 UI의 구성과  
각 화면에서 노출되는 정보의 범위 및 책임을 정의한다.

본 UI 설계는 시각적 디자인이 아닌,  
**데이터 흐름을 사용자에게 어떻게 전달할 것인가**에 초점을 둔다.

---

## 1. UI 설계 목표

본 프로젝트의 UI는 다음 원칙을 따른다.

- 화합물 분석 결과를 **간결하고 오해 없이 전달**
- 의료적 판단이나 해석을 유도하지 않는 정보 표현
- 백엔드 API 및 데이터 파이프라인 구조와의 명확한 역할 분리
- 최소한의 화면 구성으로 핵심 기능에 집중

---

## 2. UI 구성 범위

UI는 총 **3개의 주요 화면**으로 구성된다.

1. 제품 검색 화면
2. 분석 결과 화면
3. 분석 이력 조회 화면

본 UI는 **데스크톱 기준 웹 UI**를 전제로 하며,  
모바일 최적화는 본 설계 범위에 포함하지 않는다.

---

## 3. 화면별 상세 설계

### 3.1 제품 검색 화면

#### 목적
- 사용자가 의약품 제품명을 입력하고 분석을 요청하는 진입점

#### 주요 기능
- 의약품 제품명 입력
- 분석 요청 트리거
- 입력값 검증 및 기본 오류 처리

#### 입력 요소
- 제품명 입력 필드 (문자열)
- 분석 실행 버튼

#### 표시 정보
- 입력한 제품명
- 분석 진행 상태 (대기 / 처리 중 / 실패)

#### 처리 흐름
1. 사용자가 제품명을 입력한다.
2. UI는 입력값의 공백 여부만 최소 검증한다.
3. 검증 통과 시 분석 요청 API를 호출한다.
4. 분석 요청이 접수되면 결과 화면으로 이동한다.

#### 설계 원칙
- UI에서 제품명 정규화 로직을 수행하지 않는다.
- 모든 판단은 백엔드에 위임한다.

---

### 3.2 분석 결과 화면

#### 목적
- 특정 제품에 대한 주성분 및 화합물 분석 결과를 요약 제공

#### 표시 단위
- 제품 단위 요약
- 주성분(화합물) 단위 상세 정보

---

#### 3.2.1 제품 요약 영역

##### 표시 정보
- 제품명
- 제조사(존재하는 경우)
- 복합제 여부
- 주성분 개수

##### 설계 의도
- 사용자가 “이 결과가 어떤 제품에 대한 것인지”를 명확히 인지하도록 함

---

#### 3.2.2 주성분 목록 영역

##### 표시 정보
- 주성분명(표준화된 명칭)
- 주성분 여부 표시
- 원문 성분명(필요 시 보조 정보로 노출)

##### 설계 의도
- 복합제 의약품의 경우, 각 성분이 개별 분석 대상임을 명확히 전달
- 성분 간 우열이나 중요도 해석을 유도하지 않음

---

#### 3.2.3 화합물 상세 정보 영역

각 주성분 선택 시 다음 정보를 제공한다.

##### 기본 화합물 정보
- PubChem CID
- 분자식
- 분자량
- IUPAC Name (존재하는 경우)

##### 구조 정보
- Canonical SMILES (문자열 형태)

##### 설계 원칙
- 구조 정보는 분석 근거로 제공
- 시각적 구조 표현(이미지)은 제공하지 않음

---

#### 3.2.4 구조 유사도 분석 결과 영역

##### 표시 정보
- 기준 화합물명
- 유사 화합물 목록 (Top-N)
- 유사도 점수

##### 표현 방식
- 표 형태로 간결하게 제공
- 유사도 점수는 수치 정보로만 표현

##### 설계 의도
- 유사도는 화학 구조 기준임을 명확히 함
- 효능, 안전성, 대체 가능성 해석을 유도하지 않음

---

### 3.3 분석 이력 조회 화면

#### 목적
- 이전에 수행된 분석 결과를 다시 확인할 수 있도록 지원

#### 표시 정보
- 제품명
- 분석 요청 일시
- 분석 상태 (완료 / 실패)
- 주성분 개수

#### 기능
- 분석 결과 재조회
- 실패 이력 확인

#### 설계 의도
- 동일 제품에 대한 중복 분석 요청 최소화
- 배치 처리 결과와의 연계 가능성 확보

---

## 4. UI와 API 간 책임 분리

### UI의 책임
- 사용자 입력 수집
- 상태 표시 및 결과 렌더링
- 최소 수준의 입력 검증

### API의 책임
- 제품명 정규화
- 데이터 수집 및 분석
- 오류 판단 및 처리 결과 반환

---

## 5. 오류 및 예외 상황 처리

UI는 다음 상황에 대해 명확한 상태를 표시한다.

- 제품명에 대한 주성분 정보를 찾을 수 없는 경우
- PubChem CID 조회 실패
- 외부 API 호출 실패
- 분석 처리 중 오류 발생

오류 메시지는 기술적 상세를 노출하지 않으며,  
“분석 실패” 수준의 일반화된 메시지를 사용한다.

---

## 6. 범위 및 한계

- 시각적 디자인 가이드는 포함하지 않는다.
- 모바일 UI 및 접근성 설계는 범위에 포함하지 않는다.
- 본 UI는 분석 결과의 참고 제공을 목적으로 한다.

---

## 7. 향후 UI 확장 고려 사항

- 구조 유사도 결과 필터링 기능
- 분석 결과 비교 기능
- 화합물 정보 시각화 컴포넌트 연계
- 사용자별 분석 히스토리 관리
